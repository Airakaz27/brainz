<div class="container">
  <div class="row">
    <div class="col">
      <div class="username">
        <h2>
          Welcome <%= @user.first_name %> <%= @user.last_name %> !
        </h2>
        <%= link_to "Edit my profile", edit_user_registration_path(@user), class: "btn btn-ghost" %>
      </div>

      <div class="card-brain-dashboard">
        <h2>All my brains</h2>
        <% @brains.each do |brain| %>
          <div class="card-infos">
            <h3><%= brain.name %></h3>

              <% if brain.photo.attached? %>
                <%= cl_image_tag(brain.photo.key, width: 200, height: 200) %>
              <% else %>
                <img src="brainzImage.png" alt="">
              <% end %>

            <p>QI<%= brain.qi %></p>

            <p>Language(s):</p>
            <ul>
              <% brain.languages.each do |language| %>
                <li><%= language %></li>
              <% end %>
            </ul>

            <p>Specialties:</p>
            <ul>
              <% brain.specialties.each do |speciality| %>
                <li><%= speciality %></li>
              <% end %>
            </ul>

            <p>Price / Day:<%= brain.price_per_day %> â‚¬</p>

            <%= link_to "More infos", brain_path(brain) %>
            <%= link_to "Add a brain", new_brain_path %>
          <% end %>
        </div>
      </div>

      <div class="card-bookings-dashboard">
        <h2>All my bookings</h2>
        <div class="card-booking">
          <% @bookings.each do |booking| %>
            <h3><%= booking.brain.name %></h3>
            <p>Start date : <%= booking.start_date %></p>
            <p>End date : <%= booking.end_date %></p>
            <%= link_to "Cancel", brain_booking_path(booking.brain_id, booking) , class: "btn btn-ghost", data: { turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
          <% end %>
        </div>
      </div>

      <div class="delete-account">
        <%= link_to "Delete my account", cancel_user_registration_path, class: "btn btn-ghost", data: { turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
      </div>
    </div>
  </div>
</div>
